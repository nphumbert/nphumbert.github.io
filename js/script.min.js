$(window).on("load",function(){$(".preloader").fadeOut(100)}),$(document).ready(function(){"use strict";var n,s,b=document.querySelector(".shuffle-wrapper");b&&(n=window.Shuffle,s=new n(document.querySelector(".shuffle-wrapper"),{itemSelector:".shuffle-item",buffer:1}),jQuery('input[name="shuffle-filter"]').on("change",function(e){var t=e.currentTarget;t.checked&&s.filter(t.value)})),$(".portfolio-single-slider").slick({infinite:!0,arrows:!1,autoplay:!0,autoplaySpeed:2e3}),$(".clients-logo").slick({infinite:!0,arrows:!1,autoplay:!0,autoplaySpeed:2e3}),$(".testimonial-slider").slick({slidesToShow:1,infinite:!0,arrows:!1,autoplay:!0,autoplaySpeed:2e3}),$(".portfolio-popup").magnificPopup({type:"image",removalDelay:160,callbacks:{beforeOpen:function(){this.st.image.markup=this.st.image.markup.replace("mfp-figure","mfp-figure mfp-with-anim"),this.st.mainClass=this.st.el.attr("data-effect")}},closeOnContentClick:!0,midClick:!0,fixedContentPos:!0,fixedBgPos:!0});function y(){var e;$(".count").length!==0&&(e=$(".count").offset().top-window.innerHeight),$(window).scrollTop()>e&&$(".count").each(function(){var e=$(this),t=e.attr("data-count");$({countNum:e.text()}).animate({countNum:t},{duration:1e3,easing:"swing",step:function(){e.text(Math.floor(this.countNum))},complete:function(){e.text(this.countNum)}})})}$(window).on("scroll",function(){y()});let j=document.getElementsByClassName("cloaked-e-mail");for(let e of j){let t=document.createElement("a"),n=e.attributes.getNamedItem("data-user").value.split("").reverse().join("")+"@"+e.attributes.getNamedItem("data-domain").value.split("").reverse().join("");t.href="mailto:"+n,t.innerText=n,e.parentElement.insertBefore(t,e),e.parentElement.removeChild(e)}const d=document.querySelectorAll(".download-btn"),r=document.getElementById("email-modal"),g=document.getElementById("email-modal-close"),p=document.getElementById("email-form"),f=document.getElementById("email-input"),u=document.getElementById("consent-checkbox"),e=document.getElementById("form-message"),h="https://formspree.io/f/xqaoqzjo",m="email_submitted_once",l="submitted_email",c="submitted_consent";let t=null;function v(e){t=e,r.classList.remove("hidden")}function a(){r.classList.add("hidden"),e.textContent=""}function i(){const e=document.createElement("a");e.href=t,e.download="",e.click()}async function o(e,n){const s=await fetch(h,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({email:e,consent_updates:n,requested_pdf:t})});if(!s.ok)throw new Error}d.forEach(e=>{e.addEventListener("click",async n=>{const s=e.getAttribute("data-pdf");if(localStorage.getItem(m)==="true"){t=s;const e=localStorage.getItem(l),n=localStorage.getItem(c);await o(e,n),i()}else v(s)})}),g.addEventListener("click",a),p.addEventListener("submit",async t=>{t.preventDefault(),e.textContent="Sending...";const n=f.value,s=u.checked;try{await o(n,s),localStorage.setItem(STORAGE_KEY,"true"),localStorage.setItem(l,n),localStorage.setItem(c,s),e.textContent="Thank you! Your download is starting...",setTimeout(()=>{a(),i()},700)}catch{e.textContent="Something went wrong. Try again."}})})