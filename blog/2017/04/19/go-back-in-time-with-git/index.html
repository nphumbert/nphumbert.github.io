<!doctype html><html lang=en-US><head><meta charset=utf-8><title>Go Back in Time with Git</title><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta name=description content="Executive Advisor, Entrepreneur."><meta name=author content="Nadia Humbert-Labeaumaz"><meta name=generator content="Hugo 0.152.2"><meta property="og:url" content="https://nadiahl.com/blog/2017/04/19/go-back-in-time-with-git/"><meta property="og:site_name" content="Nadia Z. Humbert-Labeaumaz"><meta property="og:title" content="Go Back in Time with Git"><meta property="og:description" content="Recently, I conducted a workshop about how to go back in time with Git alongside Renaud. Here are the main points that we raised during this session."><meta property="og:locale" content="en_US"><meta property="og:type" content="article"><meta property="article:section" content="blog"><meta property="article:published_time" content="2017-04-19T20:22:15+01:00"><meta property="article:modified_time" content="2017-04-19T20:22:15+01:00"><meta property="og:image" content="https://nadiahl.com/images/blog/back-in-time-git/header.jpg"><meta property="og:image" content="https://nadiahl.com/images/slider.jpg"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://nadiahl.com/images/blog/back-in-time-git/header.jpg"><meta name=twitter:image content="https://nadiahl.com/images/slider.jpg"><meta name=twitter:title content="Go Back in Time with Git"><meta name=twitter:description content="Recently, I conducted a workshop about how to go back in time with Git alongside Renaud. Here are the main points that we raised during this session."><meta property="twitter:creator" content="@nphumbert"><meta property="twitter:site" content="https://nadiahl.com/"><script async src="https://www.googletagmanager.com/gtag/js?id=G-FDXGPB3FE3"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-FDXGPB3FE3")}</script><link rel=stylesheet href=/plugins/bootstrap/css/bootstrap.min.css media=screen><link rel=stylesheet href=/plugins/ionicons/css/ionicons.min.css><link rel=stylesheet href=/plugins/magnific-popup/magnific-popup.min.css><link rel=stylesheet href=/plugins/slick/slick.css><link rel=stylesheet href=/scss/style.min.css media=screen><link rel="shortcut icon" href=/images/favicon.png type=image/x-icon><link rel=icon href=/images/favicon.png type=image/x-icon><link rel=canonical href=https://nadiahl.com/blog/2017/04/19/go-back-in-time-with-git/><script type=application/ld+json>{"@context":"https://schema.org","@type":"Article","headline":"Go Back in Time with Git","image":"https:\/\/nadiahl.com\/images\/blog\/back-in-time-git\/header.jpg","datePublished":"2017-04-19 20:22:15 \u002b0100 \u002b0100","author":[{"@type":"Person","name":"Nadia Z. Humbert-Labeaumaz","alternateName":"Nadia Humbert-Labeaumaz","url":"https:\/\/nadiahl.com\/#about"}]}</script></head><body><div class=preloader></div><header class=navigation><div class=container><div class=row><div class=col-md-12><nav class=navbar><div class=navbar-header><button type=button class="navbar-toggle collapsed" data-toggle=collapse data-target=#navigation>
<span class=icon-bar></span>
<span class=icon-bar></span>
<span class=icon-bar></span></button></div><div class="collapse navbar-collapse" id=navigation><ul class="nav navbar-nav"><li><a href=/>Home</a></li><li><a href=/experience>Experience</a></li><li class=dropdown><a href=# class=dropdown-toggle data-toggle=dropdown role=button aria-haspopup=true aria-expanded=false>Topics <span class=ion-ios-arrow-down style=padding-left:10px></span></a><ul class=dropdown-menu><li><a href=/topics/economics-finance/>Economics & Finance</a></li><li><a href=/topics/high-performing-teams/>High-Performing Teams</a></li><li><a href=/topics/organizational-change/>Organizational Change</a></li><li><a href=/topics/strategic-management/>Strategic Management</a></li><li><a href=/topics/technology-ai/>Technology & AI</a></li></ul></li><li><a href=/research>Research</a></li><li><a href=/essays>Essays</a></li><li><a href=/trainings>Trainings</a></li></ul></div></nav></div></div></div></header><section><div class=container><div class=row><div class=col-lg-8><picture><img src=/images/blog/back-in-time-git/header.jpg alt="Go Back in Time with Git"></picture><h1>Go Back in Time with Git</h1><div class=meta><ul class=list-inline><li><a class=text-primary href=/#about>Nadia Z. Humbert-Labeaumaz</a></li><li>April 19, 2017</li><li>5 min read</li></ul></div><div class="post-content post-excerpt"><p>Recently, I conducted a workshop about how to go back in time with Git alongside <a href=https://twitter.com/rnowif>Renaud</a>. Here are the main points that we raised during this session.</p><h2 id=case-1-delete-the-last-commit>Case #1: Delete the Last Commit</h2><p>The initial Git tree used to illustrate this case is:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>* 7ec8248 N - <span style=color:#f92672>(</span>HEAD -&gt; master<span style=color:#f92672>)</span> Hello, world!
</span></span><span style=display:flex><span>* 26af837 N - Hello, world
</span></span><span style=display:flex><span>* c9b1299 N - Hello
</span></span></code></pre></div><p>The goal here is to delete the last commit, so that the resulting tree looks like this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>* 26af837 N - <span style=color:#f92672>(</span>HEAD -&gt; master<span style=color:#f92672>)</span> Hello, world
</span></span><span style=display:flex><span>* c9b1299 N - Hello
</span></span></code></pre></div><p>The easiest way to achieve this is to use the <code>git reset</code> command.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ git reset --hard 26af837
</span></span></code></pre></div><p>It sets the current branch to the specified commit. The <code>--hard</code> option discards all changes made after the specified commit.</p><h2 id=case-2-create-a-branch-from-a-previous-commit>Case #2: Create a Branch from a Previous Commit</h2><p>In this case, the initial Git tree is the same as before.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>* 7ec8248 N - <span style=color:#f92672>(</span>HEAD -&gt; master<span style=color:#f92672>)</span> Hello, world!
</span></span><span style=display:flex><span>* 26af837 N - Hello, world
</span></span><span style=display:flex><span>* c9b1299 N - Hello
</span></span></code></pre></div><p>We want to create a branch from the <code>26af837</code> commit to fix a bug, for instance. The resulting tree should be the following:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>* ae77cf0 N - <span style=color:#f92672>(</span>HEAD -&gt; bug-fix<span style=color:#f92672>)</span> Fixed it!
</span></span><span style=display:flex><span>| * 7ec8248 N - <span style=color:#f92672>(</span>master<span style=color:#f92672>)</span> Hello, world!
</span></span><span style=display:flex><span>|/  
</span></span><span style=display:flex><span>* 26af837 N - Hello, world
</span></span><span style=display:flex><span>* c9b1299 N - Hello
</span></span></code></pre></div><p>First, we need to position ourselves on the commit:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ git checkout 26af837
</span></span></code></pre></div><p>Then, we are in a &lsquo;detached HEAD&rsquo; state, which means we are no longer on a branch, and further commits will not be kept. From there, we can create the branch and commit the bug fix:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ git checkout -b bug-fix
</span></span><span style=display:flex><span>$ <span style=color:#75715e># Fix the bug ...</span>
</span></span><span style=display:flex><span>$ git commit -m <span style=color:#e6db74>&#34;Fixed it!&#34;</span>
</span></span></code></pre></div><h2 id=case-3-put-the-last-commit-on-a-new-branch>Case #3: Put the Last Commit on a New Branch</h2><p>Here, we made a commit on the <code>master</code> branch by mistake and want to transfer it to another branch.</p><p>The Git tree should go from this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>* 7ec8248 N - <span style=color:#f92672>(</span>HEAD -&gt; master<span style=color:#f92672>)</span> Hello, world!
</span></span><span style=display:flex><span>* 26af837 N - Hello, world
</span></span><span style=display:flex><span>* c9b1299 N - Hello
</span></span></code></pre></div><p>to this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>* 7ec8248 N - <span style=color:#f92672>(</span>HEAD -&gt; feature<span style=color:#f92672>)</span> Hello, world!
</span></span><span style=display:flex><span>* 26af837 N - <span style=color:#f92672>(</span>master<span style=color:#f92672>)</span> Hello, world
</span></span><span style=display:flex><span>* c9b1299 N - Hello
</span></span></code></pre></div><p>To do so, we create the <code>feature</code> branch from the last commit and reset <code>master</code> to the previous one.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ git checkout -b feature
</span></span><span style=display:flex><span>$ git checkout master
</span></span><span style=display:flex><span>$ git reset --hard 26af837
</span></span><span style=display:flex><span>$ git checkout feature
</span></span></code></pre></div><h2 id=case-4-rewrite-history>Case #4: Rewrite History</h2><p>In this case, we want to remove a past commit from the Git tree completely.</p><p>The initial tree looks like this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>* b1b5f0a N - <span style=color:#f92672>(</span>HEAD -&gt; master<span style=color:#f92672>)</span> Hello, world
</span></span><span style=display:flex><span>* b7d38ac N - Add key.txt
</span></span><span style=display:flex><span>* c9b1299 N - Hello
</span></span></code></pre></div><p>We want the resulting tree to show no sign of the commit <code>b7d38ac</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>* efb44c9 N - <span style=color:#f92672>(</span>HEAD -&gt; master<span style=color:#f92672>)</span> Hello, world
</span></span><span style=display:flex><span>* c9b1299 N - Hello
</span></span></code></pre></div><p>The <code>git rebase -i</code> command allows you to rewrite the history of a branch from a specific starting point. And, it will prompt the list of all commits since this starting point, letting you perform different actions on these commits, for example, rewording a commit message, squashing several commits into one, and reordering and deleting commits. After these modifications, lines will be executed from top to bottom. You can find more information about rewriting history <a href=https://git-scm.com/book/en/v2/Git-Tools-Rewriting-History>here</a>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ git rebase -i HEAD~2
</span></span><span style=display:flex><span>$ <span style=color:#75715e># Delete the line corresponding to the commit to remove.</span>
</span></span></code></pre></div><p>Since we wanted to go two commits back, we used the notation <code>HEAD~2</code> to specify the starting point. Alternatively, we could also have used the specific hash of the commit (<code>c9b1299</code>).</p><h2 id=case-5-revert-a-commit>Case #5: Revert a Commit</h2><p>During this workshop, an attendee mentioned the <code>git revert</code> command. Unlike the other commands in this article, <code>git revert</code> does not modify past commits. Instead, it creates a <strong>new</strong> commit that is the exact opposite of the reverted commit.</p><p>For instance, if we start from this Git tree:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>* f999291 N - <span style=color:#f92672>(</span>HEAD -&gt; master<span style=color:#f92672>)</span> Hello, world
</span></span><span style=display:flex><span>* a9f8fb3 N - Add key.txt
</span></span><span style=display:flex><span>* c9b1299 N - Hello
</span></span></code></pre></div><p>and revert the commit a9f8fb3, which contains only a new file, a new commit removing this file will be created.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ git revert a9f8fb3
</span></span></code></pre></div><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>* 55bc161 N - <span style=color:#f92672>(</span>HEAD -&gt; master<span style=color:#f92672>)</span> Revert <span style=color:#e6db74>&#34;Add key.txt&#34;</span>
</span></span><span style=display:flex><span>* f999291 N - Hello, world
</span></span><span style=display:flex><span>* a9f8fb3 N - Add key.txt
</span></span><span style=display:flex><span>* c9b1299 N - Hello
</span></span></code></pre></div><p>This command could be helpful when several people work on the same branch to avoid a forced push on the remote repository. It also keeps an explicit trace of the action in the tree for a particular reason.</p><h2 id=last-resort-keep-calm-and-use-git-reflog>Last resort: Keep Calm and Use Git Reflog</h2><p>The <code>git reflog</code> command recovers commits that appear to be lost. To illustrate what it does, here is its output when used in case #4:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ git reflog
</span></span><span style=display:flex><span>efb44c9 HEAD@<span style=color:#f92672>{</span>0<span style=color:#f92672>}</span>: rebase -i <span style=color:#f92672>(</span>finish<span style=color:#f92672>)</span>: returning to refs/heads/master
</span></span><span style=display:flex><span>efb44c9 HEAD@<span style=color:#f92672>{</span>1<span style=color:#f92672>}</span>: rebase -i <span style=color:#f92672>(</span>pick<span style=color:#f92672>)</span>: Hello, world
</span></span><span style=display:flex><span>c9b1299 HEAD@<span style=color:#f92672>{</span>2<span style=color:#f92672>}</span>: rebase -i <span style=color:#f92672>(</span>start<span style=color:#f92672>)</span>: checkout HEAD~2
</span></span><span style=display:flex><span>26af837 HEAD@<span style=color:#f92672>{</span>3<span style=color:#f92672>}</span>: commit: Hello, world
</span></span><span style=display:flex><span>712d068 HEAD@<span style=color:#f92672>{</span>4<span style=color:#f92672>}</span>: commit: Add key.txt
</span></span><span style=display:flex><span>c9b1299 HEAD@<span style=color:#f92672>{</span>5<span style=color:#f92672>}</span>: commit <span style=color:#f92672>(</span>initial<span style=color:#f92672>)</span>: Hello
</span></span></code></pre></div><p>You can see that the deleted commit (<code>712d068</code>) still appears in the reflog.</p><h2 id=conclusion>Conclusion</h2><p>This article shows several ways to go back in time with Git. These commands could be used alone or combined to get you out of complicated situations or to rearrange your Git tree before a <code>git push</code>.</p></div></div><aside class=col-lg-4></div></div></div></div></section><footer class="footer bg-gray"><div class=container><div class=row><div class=col-md-12><div class=footer-menu><ul><li><a href=/>Home</a></li><li><a href=/experience>Experience</a></li><li><a href=/research>Research</a></li><li><a href=/trainings>Trainings</a></li></ul></div><div class=footer-menu><ul><li><a href=/topics/economics-finance/>Economics & Finance</a></li><li><a href=/topics/high-performing-teams/>High-Performing Teams</a></li><li><a href=/topics/organizational-change/>Organizational Change</a></li><li><a href=/topics/strategic-management/>Strategic Management</a></li><li><a href=/topics/technology-ai/>Technology & AI</a></li></ul></div><div class=footer-menu><ul><li><a href=https://www.linkedin.com/in/nadia-humbert-labeaumaz/ target=_blank><i class=ion-social-linkedin-outline></i></a></li><li><a href=https://github.com/nphumbert target=_blank><i class=ion-social-github-outline></i></a></li><li><a href=https://twitter.com/nphumbert target=_blank><i class=ion-social-twitter-outline></i></a></li></ul></div><p class=copyright>© 2015-2025 Nadia Z. Humbert-Labeaumaz
<span style=display:none>(Nadia Humbert-Labeaumaz)</span></p></div></div></div></footer><script src=/plugins/jquery/jquery.min.js></script><script src=/plugins/bootstrap/js/bootstrap.min.js></script><script src=/plugins/slick/slick.min.js></script><script src=/plugins/magnific-popup/magnific-popup.min.js></script><script src=/plugins/shuffle/shuffle.min.js></script><script src=/plugins/google-map/gmap.js defer></script><script src=/js/script.min.js></script></body></html>