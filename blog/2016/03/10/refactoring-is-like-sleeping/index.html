<!doctype html><html lang=en-US><head><meta charset=utf-8><title>Refactoring Is Like Sleeping</title><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta name=description content="Executive Advisor, Entrepreneur."><meta name=author content="Nadia Humbert-Labeaumaz"><meta name=generator content="Hugo 0.150.1"><meta property="og:image" content="https://nadiahl.com/images/blog/refactoring-sleeping/header.jpg"><meta property="og:url" content="https://nadiahl.com/blog/2016/03/10/refactoring-is-like-sleeping/"><meta property="og:site_name" content="Nadia Humbert-Labeaumaz"><meta property="og:title" content="Refactoring Is Like Sleeping"><meta property="og:description" content="Bob is a developer. He has been asked to add a brand new feature to the application. He’d like to take this opportunity to refactor the code a little bit, since it doesn’t respect the good practices he learned from the last Software Craftsmanship meetup. However, Bob was told he couldn’t do it because there was not enough time to do anything other than produce features. So, Bob thought, “there is never enough time anyway”…
Sounds familiar? Indeed, refactoring is often seen as an activity without any value. Other things in life can also seem pointless. There is one that takes almost a third of our lives during which we literally do nothing: sleeping!"><meta property="og:locale" content="en_US"><meta property="og:type" content="article"><meta property="article:section" content="blog"><meta property="article:published_time" content="2016-03-10T15:12:42+01:00"><meta property="article:modified_time" content="2016-03-10T15:12:42+01:00"><meta property="article:tag" content="Refactoring"><meta property="og:image" content="https://nadiahl.com/images/slider.jpg"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://nadiahl.com/images/slider.jpg"><meta name=twitter:title content="Refactoring Is Like Sleeping"><meta name=twitter:description content="Bob is a developer. He has been asked to add a brand new feature to the application. He’d like to take this opportunity to refactor the code a little bit, since it doesn’t respect the good practices he learned from the last Software Craftsmanship meetup. However, Bob was told he couldn’t do it because there was not enough time to do anything other than produce features. So, Bob thought, “there is never enough time anyway”…
Sounds familiar? Indeed, refactoring is often seen as an activity without any value. Other things in life can also seem pointless. There is one that takes almost a third of our lives during which we literally do nothing: sleeping!"><script async src="https://www.googletagmanager.com/gtag/js?id=G-FDXGPB3FE3"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-FDXGPB3FE3")}</script><link rel=stylesheet href=/plugins/bootstrap/css/bootstrap.min.css media=screen><link rel=stylesheet href=/plugins/ionicons/css/ionicons.min.css><link rel=stylesheet href=/plugins/magnific-popup/magnific-popup.min.css><link rel=stylesheet href=/plugins/slick/slick.css><link rel=stylesheet href=/scss/style.min.css media=screen><link rel="shortcut icon" href=/images/favicon.png type=image/x-icon><link rel=icon href=/images/favicon.png type=image/x-icon><link rel=canonical href=https://nadiahl.com/blog/2016/03/10/refactoring-is-like-sleeping/><script type=application/ld+json>{"@context":"https://schema.org","@type":"Article","headline":"Refactoring Is Like Sleeping","image":"https:\/\/nadiahl.com\/images\/blog\/refactoring-sleeping\/header.jpg","datePublished":"2016-03-10 15:12:42 \u002b0100 \u002b0100","author":[{"@type":"Person","name":"Nadia Humbert-Labeaumaz","url":"https:\/\/nadiahl.com\/#about"}]}</script></head><body><div class=preloader></div><header class=navigation><div class=container><div class=row><div class=col-md-12><nav class=navbar><div class=navbar-header><button type=button class="navbar-toggle collapsed" data-toggle=collapse data-target=#navigation>
<span class=icon-bar></span>
<span class=icon-bar></span>
<span class=icon-bar></span></button></div><div class="collapse navbar-collapse" id=navigation><ul class="nav navbar-nav"><li><a href=/>Home</a></li><li><a href=/experience>Experience</a></li><li class=dropdown><a href=# class=dropdown-toggle data-toggle=dropdown role=button aria-haspopup=true aria-expanded=false>Articles <span class=ion-ios-arrow-down style=padding-left:10px></span></a><ul class=dropdown-menu><li><a href=/categories/business>Business</a></li><li><a href=/categories/software>Software</a></li></ul></li><li><a href=/trainings>Trainings</a></li></ul></div></nav></div></div></div></header><section class="page-title bg-2" style=background-image:url(/images/blog/refactoring-sleeping/header.jpg)><div class=container><div class=row style=display:flex;justify-content:center><div class=col-md-7><div class=block><h1>Refactoring Is Like Sleeping</h1><p></p></div></div></div></div></section><section class=page-wrapper><div class=container><div class=row><div class="col-md-8 col-md-offset-2"><div class="post post-single"><h2 class=post-title>Refactoring Is Like Sleeping</h2><div class=post-meta><ul><li><i class=ion-calendar></i> March 10, 2016</li><li><i class=ion-android-people></i>
Posted by
<a class=text-primary href=/#about>Nadia Humbert-Labeaumaz</a></li><li><i class=ion-pricetags></i>
<a href=/tags/refactoring>Refactoring</a></li></ul></div><div class=post-thumb><img class=img-responsive src=/images/blog/refactoring-sleeping/header.jpg alt="Refactoring Is Like Sleeping"></div><div class="post-content post-excerpt"><p>Bob is a developer. He has been asked to add a brand new feature to the application. He&rsquo;d like to take this opportunity to refactor the code a little bit, since it doesn&rsquo;t respect the good practices he learned from the last Software Craftsmanship meetup. However, Bob was told he couldn&rsquo;t do it because there was not enough time to do anything other than produce features. So, Bob thought, &ldquo;there is never enough time anyway&rdquo;&mldr;</p><p>Sounds familiar? Indeed, refactoring is often seen as an activity without any value. Other things in life can also seem pointless. There is one that takes almost a third of our lives during which we literally do nothing: <em>sleeping</em>!</p><p>The number of things we could do if we didn&rsquo;t sleep! However, after a few days, even hours, unpleasant events would start to appear. Without sleep, the most trivial tasks can become challenging to accomplish, and weird mistakes can take place (like pouring orange juice into your bowl of cereal). After a while, sleep would suddenly take over, leading to accidents (such as drowsy driving).</p><p>In the same way, postponing refactoring harms a project. Developments may take much longer than necessary, and bugs may occur in features very different from those modified. Moreover, there comes a point where refactoring forces itself upon you unexpectedly: the code can no longer be modified without risking significant regressions. This can happen at a critical moment in the project and jeopardize it entirely. At this point, the feared verdict may be rendered: &ldquo;We must rewrite everything.&rdquo;</p><p>In general, regular refactoring is necessary for a project&rsquo;s good health, just like sleeping every night is for us. In this article, we will define what refactoring is, when it&rsquo;s best to do it, how to prepare for it and what to do if time is short.</p><h2 id=what-does-refactoring-mean>What does refactoring mean?</h2><p>According to Michael Feathers, refactoring is &ldquo;the act of improving design without changing its behaviour.&rdquo;</p><p>It is not necessarily about changing an entire class hierarchy or implementing a complex design pattern, but it can be as simple as renaming a variable, method or class; extracting a private method into an external class; or grouping a method&rsquo;s attributes into an object.</p><p>Furthermore, adding tests to an existing codebase can also be considered refactoring. Indeed, making code testable is the first step towards a better design.</p><h2 id=when-to-refactor>When to refactor?</h2><p>The idea is not to fix the entire system each time. This would be unproductive and impossible to carry out. Also, it would be hard to justify causing regressions in code unrelated to the feature being changed.</p><p>Refactoring is most effective when targeted at the code directly related to the feature being developed. Moreover, it&rsquo;s preferable to refactor before adding new code, so you start from a clean foundation.</p><h2 id=how-to-prepare-it>How to prepare it?</h2><p>The first thing to do before refactoring is to ensure that tests cover the code you&rsquo;re going to modify. Tests verify that refactoring doesn&rsquo;t introduce regressions. If tests are missing, add them before starting.</p><p>Sometimes it&rsquo;s impossible to test a portion of code in its current state. In such cases, perform the minimal refactoring required to make it testable.</p><h2 id=what-to-do-if-time-is-missing>What to do if time is missing?</h2><p>If you lack the time, like Bob, you must be pragmatic and do small refactorings alongside each development. This allows you to improve the design incrementally without consuming too much time, while also preparing the ground for larger refactorings later.</p><h2 id=conclusion>Conclusion</h2><p>Refactoring is essential in a project and should be done regularly. It ensures new features are developed within a reasonable timeframe and limits regressions by improving the design. Furthermore, it allows developers to (re)discover the pleasure of making the product evolve.</p><p>Let&rsquo;s conclude with the Boy Scout rule that inspires us always to leave the code in a better condition than we found it. Applying this rule enhances overall code quality and helps reverse technical debt.</p></div><div class=post-comments></div></div></div></div></div></section><footer class="footer bg-gray"><div class=container><div class=row><div class=col-md-12><div class=footer-menu><ul><li><a href=/>Home</a></li><li><a href=/experience>Experience</a></li><li><a href=/trainings>Trainings</a></li></ul></div><div class=footer-menu><ul><li><a href=https://www.linkedin.com/in/nadia-humbert-labeaumaz/ target=_blank><i class=ion-social-linkedin-outline></i></a></li><li><a href=https://github.com/nphumbert target=_blank><i class=ion-social-github-outline></i></a></li><li><a href=https://twitter.com/nphumbert target=_blank><i class=ion-social-twitter-outline></i></a></li></ul></div><p class=copyright></p></div></div></div></footer><script src=/plugins/jquery/jquery.min.js></script><script src=/plugins/bootstrap/js/bootstrap.min.js></script><script src=/plugins/slick/slick.min.js></script><script src=/plugins/magnific-popup/magnific-popup.min.js></script><script src=/plugins/shuffle/shuffle.min.js></script><script src=/plugins/google-map/gmap.js defer></script><script src=/js/script.min.js></script></body></html>